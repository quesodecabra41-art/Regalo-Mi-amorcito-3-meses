* { margin: 0; padding: 0; box-sizing: border-box; }
body {
    font-family: 'Poppins', sans-serif;
    overflow-x: hidden;
    transition: background-color 0.5s ease;
    min-height: 100vh; 
    padding-bottom: 50px;
    text-align: center;
}

h1, h2, h3 { font-family: 'Great Vibes', cursive; }

.section-title {
    font-size: 4rem;
    color: #e91e63;
    text-align: center;
    margin-bottom: 40px;
    text-shadow: 2px 2px 0px rgba(255,255,255,0.8);
    width: 100%;
    line-height: 1.2;
}

/* Navegación */
header {
    position: fixed; top: 0; width: 100%;
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(5px); z-index: 1000;
    padding: 10px 0; box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}
nav ul { display: flex; justify-content: center; list-style: none; flex-wrap: wrap; align-items: center; }
nav ul li { margin: 0 5px; }
nav ul li button {
    background: none; border: none;
    font-family: 'Poppins', sans-serif; font-weight: 500; font-size: 0.85rem;
    cursor: pointer; color: #333; transition: all 0.3s;
    padding: 8px 12px; border-radius: 20px;
}
nav ul li button:hover { background-color: #e91e63; color: white; }

.nav-heart-btn {
    font-size: 1.2rem !important;
    color: #e91e63 !important;
    animation: heartbeat 2s infinite;
}

/* Secciones */
.page-section {
    display: none; min-height: 100vh;
    padding-top: 100px; padding-bottom: 50px;
    width: 100%; position: relative; z-index: 10;
    flex-direction: column; align-items: center;
}
.active-section { display: flex; animation: fadeIn 1s; }
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

.scrapbook-layout {
    position: relative;
    width: 100%; max-width: 1200px; margin: 0 auto; padding: 20px;
    display: flex; flex-wrap: wrap; justify-content: center;
}

.scrap-item {
    position: relative;
    background: white;
    padding: 15px 15px 45px 15px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.15);
    margin: 25px;
    width: 300px;
    transition: transform 0.3s;
    display: flex; flex-direction: column; align-items: center;
    transform: rotate(var(--rotation));
}
.scrap-item:hover { transform: scale(1.05) !important; z-index: 50; }

.scrap-img {
    width: 100%; height: 250px; object-fit: cover;
    border: 1px solid #ddd;
}

.scrap-text {
    margin-top: 15px;
    font-family: 'Indie Flower', cursive;
    font-size: 1.3rem; color: #444;
    text-align: center;
    line-height: 1.4;
    width: 100%;
}

.scrap-note {
    background: #fff9c4; width: 250px; height: 250px;
    padding: 20px; display: flex; align-items: center; justify-content: center;
    text-align: center; font-family: 'Indie Flower', cursive; font-size: 1.5rem;
    box-shadow: 5px 5px 15px rgba(0,0,0,0.1);
    transform: rotate(-3deg); margin: 20px;
    position: relative;
}
.scrap-note::before {
    content: ''; position: absolute; top: -15px; left: 40%;
    width: 40px; height: 100px; background: rgba(255,255,255,0.4);
    transform: rotate(90deg); border: 1px solid #ddd;
}

/* --- DECORACIÓN DE FONDOS MEJORADA (NUEVO) --- */

/* Inicio: Verde con patrón sutil de hojas/puntos */
#inicio { 
    background-color: #e8f5e9; color: #2e7d32; 
    background-image: radial-gradient(#c8e6c9 20%, transparent 20%), radial-gradient(#c8e6c9 20%, transparent 20%);
    background-position: 0 0, 25px 25px;
    background-size: 50px 50px;
}

/* Historia: Azul con patrón de nubes/puntos */
#historia { 
    background-color: #e3f2fd; color: #444; 
    background-image: radial-gradient(#bbdefb 2px, transparent 2px);
    background-size: 30px 30px;
}
#historia .section-title { color: #1565c0; }

/* Tiempo: Morado con estrellas sutiles */
#tiempo { 
    background-color: #ede7f6; color: #512da8; 
    background-image: radial-gradient(#d1c4e9 1px, transparent 1px), radial-gradient(#d1c4e9 1px, transparent 1px);
    background-position: 0 0, 20px 20px;
    background-size: 40px 40px;
}
#tiempo .section-title { color: #673ab7; }

/* Juntos: Blanco con patrón geométrico suave */
#juntos { 
    background-color: white; color: #333; 
    background-image: linear-gradient(45deg, #f5f5f5 25%, transparent 25%, transparent 75%, #f5f5f5 75%, #f5f5f5), linear-gradient(45deg, #f5f5f5 25%, transparent 25%, transparent 75%, #f5f5f5 75%, #f5f5f5);
    background-size: 60px 60px;
    background-position: 0 0, 30px 30px;
}

/* Felicidades: Rosa con corazones sutiles */
#felicidades { 
    background-color: #ffeaee; color: #d81b60; 
    background-image: radial-gradient(#f8bbd0 15%, transparent 16%);
    background-size: 30px 30px;
}

/* Recuerdos: Naranja suave */
#recuerdos { 
    background-color: #fff3e0; color: #5d4037; 
    background-image: radial-gradient(#ffe0b2 10%, transparent 10%);
    background-size: 20px 20px;
}

/* --- FLOWER SUB-PAGE --- */
#jardin-secreto {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background-color: #f1f8e9; z-index: 2000; display: none;
    flex-direction: column; align-items: center; justify-content: center;
}
.flower { position: relative; width: 200px; height: 200px; margin-top: 50px; cursor: pointer; }
.center { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 60px; height: 60px; background: #ffeb3b; border-radius: 50%; z-index: 2; }
.petal { position: absolute; width: 60px; height: 120px; background: #ff80ab; border-radius: 50px; top: 50%; left: 50%; transform-origin: center top; z-index: 1; transition: opacity 0.5s; border: 1px solid rgba(255,255,255,0.5); }
.p1 { transform: translate(-50%, 0) rotate(0deg); }
.p2 { transform: translate(-50%, 0) rotate(60deg); }
.p3 { transform: translate(-50%, 0) rotate(120deg); }
.p4 { transform: translate(-50%, 0) rotate(180deg); }
.p5 { transform: translate(-50%, 0) rotate(240deg); }
.p6 { transform: translate(-50%, 0) rotate(300deg); }
.flower-msg { font-size: 1.5rem; color: #c2185b; margin-top: 30px; font-weight: bold; min-height: 50px; text-align: center; }
.close-btn { position: absolute; top: 20px; right: 20px; padding: 8px 20px; background: #f06292; color: white; border: none; border-radius: 20px; cursor: pointer; }

/* --- TARJETAS TIEMPO --- */
.cards-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 30px; padding: 20px; max-width: 1000px; margin: 0 auto; width: 100%; justify-content: center; }

.card { height: 280px; perspective: 1000px; cursor: pointer; }
.card-inner { position: relative; width: 100%; height: 100%; text-align: center; transition: transform 0.8s; transform-style: preserve-3d; }
.card.flipped .card-inner { transform: rotateY(180deg); }

.card-front, .card-back { 
    position: absolute; width: 100%; height: 100%; 
    backface-visibility: hidden; border-radius: 20px; 
    display: flex; flex-direction: column; justify-content: center; align-items: center; 
    padding: 15px; 
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    border: 4px solid #7e57c2; 
}
.card-front { background: linear-gradient(135deg, #b39ddb, #9575cd); color: white; }
.card-back { background: white; color: #5e35b1; transform: rotateY(180deg); font-size: 0.9rem; line-height: 1.3; }
.card-front h3 { margin-top: 10px; font-family: 'Poppins', sans-serif; }

.card-img-mini {
    width: 110px; height: 110px; object-fit: cover;
    border-radius: 50%; border: 4px solid white;
    box-shadow: 0 4px 8px rgba(0,0,0,0.2); margin-bottom: 10px;
    background-color: white;
}

/* --- JUNTOS & PROMESA --- */
#puzzle-container { display: grid; grid-template-columns: repeat(3, 100px); grid-template-rows: repeat(3, 100px); gap: 2px; width: 306px; margin: 40px auto; border: 8px solid #333; }
.puzzle-piece { width: 100px; height: 100px; background-size: 300px 300px; cursor: pointer; transition: 0.2s; }

#puzzle-reward { 
    position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
    background: rgba(0,0,0,0.95); z-index: 3000; 
    display: none; flex-direction: column; align-items: center; justify-content: center; 
    color: white; padding: 20px;
}

#promesa { background-color: #fdf5e6; background-image: radial-gradient(#eee 15%, transparent 16%); background-size: 60px 60px; }
#promesa .section-title { color: #5d4037; }
.parchment { width: 60px; height: 400px; background: #e0c395; border-radius: 30px; margin: 50px auto; cursor: pointer; transition: all 1.2s; position: relative; overflow: hidden; box-shadow: 10px 10px 30px rgba(0,0,0,0.2); display: flex; align-items: center; justify-content: center; }
.parchment.open { width: 90%; max-width: 600px; height: 500px; background: #f4e4bc; border: 4px double #8b4513; }
.parchment-text { opacity: 0; transition: 1s 1s; padding: 30px; font-family: 'Great Vibes', cursive; font-size: 1.8rem; display: none; text-align: center; }
.parchment.open .parchment-text { opacity: 1; display: block; }
.parchment-hint { position: absolute; transition: opacity 0.3s; }
.parchment.open .parchment-hint { opacity: 0; pointer-events: none; }

.quill-pen { font-size: 70px; cursor: pointer; animation: floatPen 2.5s infinite; margin-bottom: 20px; }

#tinta-final {
    background-color: #000;
    color: #fff;
    display: none;
    height: 100vh;
    position: fixed; top: 0; left: 0; width: 100%;
    z-index: 4000;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
}
.lyrics-container {
    font-family: 'Great Vibes', cursive;
    font-size: 2.5rem;
    min-height: 120px;
    padding: 20px;
    text-shadow: 0 0 15px #e91e63;
}
.tulip-petal {
    position: fixed; top: -50px; width: 25px; height: 35px;
    background: linear-gradient(45deg, #e91e63, #ff80ab);
    border-radius: 50% 0 50% 50%; opacity: 0.9; z-index: 3500;
}

/* --- FELICIDADES --- */
.celebration-content {
    width: 100%; max-width: 800px; display: flex; flex-direction: column; align-items: center;
}
.custom-msg-box {
    background: rgba(255,255,255,0.7); padding: 30px; border-radius: 20px; width: 90%; max-width: 700px;
    margin: 0 auto 40px auto; font-size: 1.2rem; color: #444; line-height: 1.8; border: 3px dashed #e91e63;
    text-align: center; box-shadow: 0 5px 15px rgba(233, 30, 99, 0.1);
}
.animacion-texto-final {
    font-family: 'Great Vibes', cursive; font-size: 2.8rem; min-height: 150px; margin-top: 30px;
    text-shadow: 0 2px 5px rgba(0,0,0,0.1); opacity: 0; transition: opacity 1s; text-align: center; padding: 0 20px;
}
.play-btn {
    font-size: 50px; cursor: pointer; background: #fff; border-radius: 50%; width: 80px; height: 80px;
    display: flex; align-items: center; justify-content: center; box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    margin: 10px auto; transition: transform 0.2s;
}
.play-btn:hover { transform: scale(1.1); }

/* --- RECUERDOS (SOLUCIONADO EL ESPACIO VACIO) --- */
#recuerdos .section-title { color: #e65100; }
.memories-grid {
    display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 30px; padding: 40px 20px;
    max-width: 1200px; margin: 0 auto; width: 100%;
    /* ESTO CORRIGE EL PROBLEMA: Alinea las cajas arriba, evitando que se estiren */
    align-items: start; 
}
.memory-box {
    background: white; padding: 25px; border-radius: 15px; box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    transition: transform 0.3s; text-align: center;
    /* Altura automática según el contenido */
    height: auto; 
    display: flex; flex-direction: column; justify-content: center; align-items: center;
}
.memory-box:hover { transform: translateY(-5px); }
.memory-title { font-weight: bold; margin-bottom: 15px; color: #e65100; font-size: 1.2rem; }
.memory-link { color: #1e88e5; text-decoration: none; font-weight: bold; }
.memory-img { width:100%; max-width:350px; height:auto; border-radius:10px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); margin-bottom: 15px; }

/* Animaciones */
.floating-element { position: fixed; pointer-events: none; opacity: 0.7; z-index: 1; animation: floatAround linear infinite; }
@keyframes floatAround { 0% { transform: translate(0, 110vh) rotate(0deg); opacity: 0; } 10% { opacity: 0.8; } 100% { transform: translate(20px, -20vh) rotate(360deg); opacity: 0; } }
@keyframes heartbeat { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.2); } }
@keyframes floatPen { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-15px); } }

/* Centrado general */
.hero-box {
    display: flex; flex-direction: column; align-items: center; justify-content: center;
}
